---
import EducationItem from "./EducationItem.astro";

const EDUCATION = [
  {
    date: "2025 - Present",
    title: "English Course",
    institution: "SMART Language Academy - Bogotá, Colombia",
    description:
      "Intensive English course focused on communication skills, listening comprehension, and speaking, with an emphasis on academic and professional contexts.",
    link: "https://smart.edu.co/home/",
    ongoing: true,
    type: "Course"
  },
  {
    date: "2020 - 2025",
    title: "Systems Engineering",
    institution: "Universidad Central - Bogotá, Colombia",
    description:
      "Program focused on software development, networking, and IT project management. Participated in interdisciplinary projects involving technology and sustainability.",
    link: "https://www.ucentral.edu.co/",
    ongoing: false,
    type: "Degree"
  },
];

// Function to extract year from date string
function getYear(date: string): string {
  const yearMatch = date.match(/\d{4}/);
  return yearMatch ? yearMatch[0] : '';
}
---

<div class="relative">
  <!-- Modern minimal timeline -->
  <div class="relative">
    <!-- Vertical timeline line - minimal design -->
    <div class="absolute left-8 md:left-12 lg:left-16 top-0 bottom-0 w-px bg-gradient-to-b from-purple-400 via-purple-500 to-transparent dark:from-purple-500 dark:via-purple-400"></div>
    
    <!-- Education items -->
    <ol class="relative space-y-6 md:space-y-8 pl-12 md:pl-20 lg:pl-24">
      {
        EDUCATION.map((item, index) => {
          const year = getYear(item.date);
          return (
            <li 
              class="relative education-item"
              style={`animation-delay: ${index * 0.08}s`}
            >
              <!-- Year label on timeline -->
              <div class="absolute -left-10 md:-left-14 lg:-left-18 top-3 md:top-4 flex items-center justify-center z-20">
                <div class="bg-purple-500 text-white text-[10px] md:text-xs font-bold px-2 md:px-2.5 py-1 md:py-1.5 rounded-md md:rounded-lg shadow-xl whitespace-nowrap border border-purple-400">
                  {year}
                </div>
              </div>
              <EducationItem {...item} />
            </li>
          );
        })
      }
    </ol>
  </div>
</div>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .education-item {
    animation: fadeInUp 0.5s ease-out both;
  }
</style>

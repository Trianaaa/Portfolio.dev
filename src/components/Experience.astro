---
import ExperienceItems from "./ExperiencieItems.astro";

const EXPERIENCIE = [
  {
    date: "September/2025 - Current",
    title: "Junior Manager",
    company: "Movizzon",
    description:
      "Support Engineer 24/7 at Movizzon, I am responsible for providing software support to banking applications and ensuring the continuity of digital services. I perform tasks related to the analysis and optimization of dashboards in Tableau to improve the visibility of key metrics, as well as interpreting and executing queries in X-Path, JavaScript, and SQL (Oracle) for incident diagnosis and resolution. I also implement solutions in web environments and mobile applications for iOS and Android, leveraging my knowledge of Linux and Windows operating systems.",
    link: "https://movizzon.com/",
    current: true
  },
  {
    date: "March/2025 - June/2025",
    title: "Support Engineer",
    company: "CNA Sistemas & Soluciones",
    description:
      "Responsible for providing on-site and remote technical support to users across Latin America, assisting in the resolution of hardware, software, and connectivity issues. In charge of managing and monitoring assigned projects related to IT infrastructure.",
    link: "https://www.cnasistemas.com",
    current: false
  },
  {
    date: "February/2024 - March/2025",
    title: "Support Technician",
    company: "Tecnología Informática TECINF SAS",
    description:
      "Provided on-site and remote technical support, addressing user requirements across Latin America. Assisted in solving issues related to hardware, software, connectivity, and office tools, as well as in the management of assigned infrastructure projects.",
    link: "https://www.tecinf.net/",
    current: false
  },
  {
    date: "December/2023 - January/2024",
    title: "Technology Assistant",
    company: "Merani Proyectos",
    description:
      "Supported the management and creation of visual and didactic content for courses offered on the foundation's learning platform, aimed at government-led academic projects.",
    link: "https://albertomerani.org/",
    current: false
  },
  {
    date: "June/2022 - December/2023",
    title: "Commercial Assistant",
    company: "CENASIT S.A.S",
    description:
      "Provided comprehensive support to the commercial department, including document management, promotion of in-person and virtual courses, supplier management nationwide, participant registration at the training center, portfolio management, and assistance in internal project execution such as implementing a digital participant registration system, optimizing processes by 30%.",
    link: "https://www.cenasit.com",
    current: false
  }
];

// Function to extract year from date string
function getYear(date: string): string {
  const yearMatch = date.match(/\d{4}/);
  return yearMatch ? yearMatch[0] : '';
}
---

<div class="relative">
  <!-- Modern minimal timeline -->
  <div class="relative">
    <!-- Vertical timeline line - minimal design -->
    <div class="absolute left-8 md:left-12 lg:left-16 top-0 bottom-0 w-px bg-gradient-to-b from-blue-400 via-blue-500 to-transparent dark:from-blue-500 dark:via-blue-400"></div>
    
    <!-- Experience items -->
    <ol class="relative space-y-6 md:space-y-8 pl-12 md:pl-20 lg:pl-24">
      {
        EXPERIENCIE.map((experience, index) => {
          const year = getYear(experience.date);
          return (
            <li 
              class="relative experience-item"
              style={`animation-delay: ${index * 0.08}s`}
            >
              <!-- Year label on timeline -->
              <div class="absolute -left-10 md:-left-14 lg:-left-18 top-3 md:top-4 flex items-center justify-center z-20">
                <div class="bg-blue-500 text-white text-[10px] md:text-xs font-bold px-2 md:px-2.5 py-1 md:py-1.5 rounded-md md:rounded-lg shadow-xl whitespace-nowrap border border-blue-400">
                  {year}
                </div>
              </div>
              <ExperienceItems {...experience} />
            </li>
          );
        })
      }
    </ol>
  </div>
</div>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .experience-item {
    animation: fadeInUp 0.5s ease-out both;
  }
</style>
